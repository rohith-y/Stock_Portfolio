(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["braze"],{"./src/udemy/js/braze/app.global.less":function(e,n,t){},"./src/udemy/js/braze/bootstrap.js":function(e,n,t){"use strict";t.r(n);t.d(n,"bootstrap",(function(){return S}));t.d(n,"bootstrapSubcategoryPage",(function(){return _}));t.d(n,"bootstrapCourseLandingPage",(function(){return m}));var s=t("./node_modules/@braze/web-sdk/appboy.min.js");var r=t.n(s);var a=t("./src/udemy/js/braze/app.global.less");var i=t.n(a);var o=t("./src/udemy/js/gql-codegen/api-platform-graphql.ts");var u=t("./src/udemy/js/utils/get-config-data.js");var c=t("./src/udemy/js/utils/get-request-data.js");var d=t("./src/udemy/js/utils/server-or-client.ts");var p=t("./src/udemy/js/utils/ud-me.js");var l=t("./src/udemy/js/utils/ud-performance.ts");var g=t("./src/udemy/js/utils/ud-user-agnostic-tracking-params.js");function S(){window.appboy=r.a;const e=Object(u["a"])();const n=Object(c["a"])();const t=e.env==="PROD"?"5cefca91-d218-4b04-8bdd-c8876ec1908d":"4aa844ae-1f20-4f99-aeb9-3307f28c861d";const s=r.a.initialize(t,{baseUrl:"sdk.iad-03.braze.com",safariWebsitePushId:e.env==="PROD"?"web.com.udemy.prod":"web.com.udemy",allowUserSuppliedJavascript:true,contentSecurityNonce:window.nonceValue});if(s){l["a"].mark("BrazeWebPush.sdk-initialized")}r.a.openSession();if(p["a"].is_authenticated){r.a.changeUser(p["a"].id);l["a"].mark("BrazeWebPush.user-changed")}else{const t=r.a.getUser();t.setCountry(e.marketplace_country.id);t.setLanguage(n.language)}if(g["a"].page_key==="discovery_subcategory"&&r.a.isPushSupported()&&!r.a.isPushBlocked()&&r.a.isPushPermissionGranted()){_(r.a)}if(d["a"].global.location.href.match(/http(s)?:\/\/.*\/course\/.*/gm)){m(r.a)}return r.a}function _(e){const n=document.querySelector(".ud-component--category--category");const t=n?JSON.parse(n.getAttribute("data-component-props")):{};if(t.pageObject){const n=t.pageObject.id;e.logCustomEvent("Viewed subcategory page",{subcategory_id:n})}}async function m(e){const n=document.body.getAttribute("data-clp-course-id");if(n){let t={};try{const e=await o["c"].fetcher({featureCodes:["web_push_optin_display"]})();const n=e.featureVariantAssignmentsByCodeAndAttributes;n.forEach((e=>{if(e.featureCode==="web_push_optin_display"){t=e.configuration}}))}catch(e){}e.logCustomEvent("Viewed CLP",{course_id:n,experiment:t.showModal});e.subscribeToInAppMessage((t=>{let s=true;if(t instanceof e.InAppMessage){const r=t.extras["msg-id"];if(r==="push-primer"){if(!e.isPushSupported()||e.isPushBlocked()){s=false}l["a"].mark("BrazeWebPush.soft-push-rendered");if(t.buttons[1]){t.buttons[1].subscribeToClickedEvent((()=>{e.openSession();e.registerAppboyPushMessages();const t=e.getUser();t.setCustomUserAttribute("last_visited_course_id",n);t.setPushNotificationSubscriptionType(e.User.NotificationSubscriptionTypes.OPTED_IN)}))}}}if(s){e.display.showInAppMessage(t)}}))}}},"./src/udemy/js/gql-codegen/api-platform-graphql.ts":function(e,n,t){"use strict";var s=t("./node_modules/react-query/es/index.js");var r=t("./node_modules/js-cookie/src/js.cookie.js");var a=t.n(r);var i=undefined&&undefined.__awaiter||function(e,n,t,s){function r(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,a){function i(e){try{u(s.next(e))}catch(e){a(e)}}function o(e){try{u(s["throw"](e))}catch(e){a(e)}}function u(e){e.done?t(e.value):r(e.value).then(i,o)}u((s=s.apply(e,n||[])).next())}))};const o=()=>{const e=a.a.getJSON()||{};if(e.ud_locale){const n=e.ud_locale.split("_").join("-");return{"Accept-Language":n}}};const u=(e,n,t)=>()=>i(void 0,void 0,void 0,(function*(){let s;if(t&&"_signal"in t){s=t._signal;delete t._signal}const r=yield fetch("/api/2022-03/graphql/",{method:"POST",headers:Object.assign(Object.assign({"Content-Type":"application/json"},o()),t!==null&&t!==void 0?t:{}),body:JSON.stringify({query:e,variables:n}),signal:s});const a=yield r.json();if(a.errors){const{message:e}=a.errors[0]||"Error..";throw new Error(e)}return a.data}));t.d(n,"a",(function(){return l}));t.d(n,"b",(function(){return b}));t.d(n,"d",(function(){return T}));t.d(n,"e",(function(){return h}));t.d(n,"c",(function(){return R}));var c;(function(e){e["Cplusplus"]="CPLUSPLUS";e["CsvProcessingWithPython"]="CSV_PROCESSING_WITH_PYTHON";e["CSharp"]="C_SHARP";e["Html"]="HTML";e["JavascriptEs6"]="JAVASCRIPT_ES6";e["Java_9"]="JAVA_9";e["Java_11"]="JAVA_11";e["Php_5"]="PHP_5";e["Php_7"]="PHP_7";e["Python_3_5"]="PYTHON_3_5";e["Python_3_8"]="PYTHON_3_8";e["Python_3_10"]="PYTHON_3_10";e["React_16"]="REACT_16";e["Ruby"]="RUBY";e["R_3_6"]="R_3_6";e["Scipy_1_4NumpyPandasSympyAndScikitLearn_0_23"]="SCIPY_1_4_NUMPY_PANDAS_SYMPY_AND_SCIKIT_LEARN_0_23";e["Sql"]="SQL";e["Swift_3"]="SWIFT_3";e["Swift_5"]="SWIFT_5"})(c||(c={}));var d;(function(e){e["PriceHighToLow"]="PRICE_HIGH_TO_LOW";e["PriceLowToHigh"]="PRICE_LOW_TO_HIGH";e["Rating"]="RATING";e["Relevance"]="RELEVANCE";e["Reviews"]="REVIEWS";e["Time"]="TIME"})(d||(d={}));var p;(function(e){e["Aud"]="AUD";e["Brl"]="BRL";e["Cad"]="CAD";e["Dkk"]="DKK";e["Eur"]="EUR";e["Gbp"]="GBP";e["Idr"]="IDR";e["Ils"]="ILS";e["Inr"]="INR";e["Jpy"]="JPY";e["Krw"]="KRW";e["Mxn"]="MXN";e["Nok"]="NOK";e["Pln"]="PLN";e["Rub"]="RUB";e["Sgd"]="SGD";e["Thb"]="THB";e["Try"]="TRY";e["Twd"]="TWD";e["Usd"]="USD";e["Vnd"]="VND";e["Zar"]="ZAR"})(p||(p={}));var l;(function(e){e["Day"]="DAY";e["Month"]="MONTH";e["Week"]="WEEK";e["Year"]="YEAR"})(l||(l={}));var g;(function(e){e["AllLevels"]="ALL_LEVELS";e["Beginner"]="BEGINNER";e["Expert"]="EXPERT";e["Intermediate"]="INTERMEDIATE"})(g||(g={}));var S;(function(e){e["Af"]="AF";e["Ak"]="AK";e["Am"]="AM";e["Ar"]="AR";e["As"]="AS";e["Az"]="AZ";e["Be"]="BE";e["Bg"]="BG";e["Bm"]="BM";e["Bn"]="BN";e["Bo"]="BO";e["Br"]="BR";e["Bs"]="BS";e["Ca"]="CA";e["Ce"]="CE";e["Cs"]="CS";e["Cu"]="CU";e["Cy"]="CY";e["Da"]="DA";e["De"]="DE";e["Dz"]="DZ";e["Ee"]="EE";e["El"]="EL";e["En"]="EN";e["Eo"]="EO";e["Es"]="ES";e["Et"]="ET";e["Eu"]="EU";e["Fa"]="FA";e["Ff"]="FF";e["Fi"]="FI";e["Fo"]="FO";e["Fr"]="FR";e["Fy"]="FY";e["Ga"]="GA";e["Gd"]="GD";e["Gl"]="GL";e["Gu"]="GU";e["Gv"]="GV";e["Ha"]="HA";e["He"]="HE";e["Hi"]="HI";e["Hr"]="HR";e["Hu"]="HU";e["Hy"]="HY";e["Ia"]="IA";e["Id"]="ID";e["Ig"]="IG";e["Ii"]="II";e["Is"]="IS";e["It"]="IT";e["Ja"]="JA";e["Jv"]="JV";e["Ka"]="KA";e["Ki"]="KI";e["Kk"]="KK";e["Kl"]="KL";e["Km"]="KM";e["Kn"]="KN";e["Ko"]="KO";e["Ks"]="KS";e["Ku"]="KU";e["Kw"]="KW";e["Ky"]="KY";e["Lb"]="LB";e["Lg"]="LG";e["Ln"]="LN";e["Lo"]="LO";e["Lt"]="LT";e["Lu"]="LU";e["Lv"]="LV";e["Mg"]="MG";e["Mi"]="MI";e["Mk"]="MK";e["Ml"]="ML";e["Mn"]="MN";e["Mr"]="MR";e["Ms"]="MS";e["Mt"]="MT";e["My"]="MY";e["Nb"]="NB";e["Nd"]="ND";e["Ne"]="NE";e["Nl"]="NL";e["Nn"]="NN";e["No"]="NO";e["Om"]="OM";e["Or"]="OR";e["Os"]="OS";e["Pa"]="PA";e["Pl"]="PL";e["Ps"]="PS";e["Pt"]="PT";e["PtBr"]="PT_BR";e["PtPt"]="PT_PT";e["Qu"]="QU";e["Rm"]="RM";e["Rn"]="RN";e["Ro"]="RO";e["Ru"]="RU";e["Rw"]="RW";e["Sd"]="SD";e["Se"]="SE";e["Sg"]="SG";e["Si"]="SI";e["Sk"]="SK";e["Sl"]="SL";e["Sn"]="SN";e["So"]="SO";e["Sq"]="SQ";e["Sr"]="SR";e["Su"]="SU";e["Sv"]="SV";e["Sw"]="SW";e["Ta"]="TA";e["Te"]="TE";e["Tg"]="TG";e["Th"]="TH";e["Ti"]="TI";e["Tk"]="TK";e["To"]="TO";e["Tr"]="TR";e["Tt"]="TT";e["Ug"]="UG";e["Uk"]="UK";e["Ur"]="UR";e["Uz"]="UZ";e["Vi"]="VI";e["Vo"]="VO";e["Wo"]="WO";e["Xh"]="XH";e["Yi"]="YI";e["Yo"]="YO";e["Zh"]="ZH";e["ZhCn"]="ZH_CN";e["ZhTw"]="ZH_TW";e["Zu"]="ZU"})(S||(S={}));var _;(function(e){e["Consumersubscription"]="CONSUMERSUBSCRIPTION";e["Enterprise"]="ENTERPRISE";e["Team"]="TEAM";e["Udemypro"]="UDEMYPRO"})(_||(_={}));var m;(function(e){e["Popular"]="POPULAR";e["Trending"]="TRENDING"})(m||(m={}));var f;(function(e){e["ExtraLong"]="EXTRA_LONG";e["ExtraShort"]="EXTRA_SHORT";e["Long"]="LONG";e["Medium"]="MEDIUM";e["Short"]="SHORT"})(f||(f={}));const y=`\n    query AutocompleteSuggestions($searchedPhrase: String!) {\n  searchAutocomplete(request: {searchedPhrase: $searchedPhrase}) {\n    item {\n      ... on SearchAutocompleteLogItem {\n        phrase: title\n        __typename\n      }\n      ... on CourseInstructor {\n        id\n        name\n        url\n        images {\n          px50x50\n        }\n        __typename\n      }\n      ... on Course {\n        id\n        title\n        url\n        instructors {\n          name\n        }\n        images {\n          px50x50\n        }\n        __typename\n      }\n    }\n    resultTrackingId\n    trackingId\n  }\n}\n    `;const b=(e,n)=>Object(s["useQuery"])(["AutocompleteSuggestions",e],u(y,e),n);b.getKey=e=>["AutocompleteSuggestions",e];b.fetcher=(e,n)=>u(y,e,n);const P=`\n    query LabSearchResponse($query: String!, $filters: [SearchAggregationInputOption!]) {\n  searchLabs(query: $query, filters: $filters) {\n    count\n    trackingId\n    labs {\n      id\n      title\n      description\n      learningOutcomes\n      activities\n      prerequisites\n      minEstimatedTime\n      maxEstimatedTime\n      instructors {\n        name\n      }\n      topics {\n        id\n      }\n      instructors {\n        name\n      }\n      metadata {\n        trackingId\n      }\n    }\n  }\n}\n    `;const T=(e,n)=>Object(s["useQuery"])(["LabSearchResponse",e],u(P,e),n);T.getKey=e=>["LabSearchResponse",e];T.fetcher=(e,n)=>u(P,e,n);const A=`\n    query SubscriptionPlans {\n  subscriptionPlans {\n    id\n    listPrice {\n      amount\n      currency\n    }\n    renewalInterval {\n      type\n      count\n    }\n    trial {\n      dateInterval {\n        type\n        count\n      }\n    }\n    productType\n  }\n}\n    `;const h=(e,n)=>Object(s["useQuery"])(e===undefined?["SubscriptionPlans"]:["SubscriptionPlans",e],u(A,e),n);h.getKey=e=>e===undefined?["SubscriptionPlans"]:["SubscriptionPlans",e];h.fetcher=(e,n)=>u(A,e,n);const E=`\n    query FeatureVariantAssignments($featureCodes: [String!]!, $realtimeAttributes: [FeatureRequestAttributeInput!]) {\n  featureVariantAssignmentsByCodeAndAttributes(\n    featureCodes: $featureCodes\n    realtimeAttributes: $realtimeAttributes\n  ) {\n    featureCode\n    configuration\n    isInExperiment\n  }\n}\n    `;const R=(e,n)=>Object(s["useQuery"])(["FeatureVariantAssignments",e],u(E,e),n);R.getKey=e=>["FeatureVariantAssignments",e];R.fetcher=(e,n)=>u(E,e,n)}}]);
//# sourceMappingURL=braze.c90eb2b73274c323a5ad.js.map